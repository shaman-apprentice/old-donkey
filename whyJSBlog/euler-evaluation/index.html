<!DOCTYPE html>

<head>
  <title>index</title>
  <link rel="icon" type="image/x-icon" href="./assets/favicon.ico" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="chartjs/chartjs.min.css" />
  <script src="chartjs/chartjs.bundle.min.js"></script>
</head>

<body>
  <canvas id="myChart" width="400" height="400"></canvas>

  <script type="module">
    import { parseProblemsForLanguage } from "./src/measurementParser.js"

    var ctx = document.getElementById('myChart');
    new Chart(document.getElementById('myChart'), {
      type: 'line',
      data: {
        labels: ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10"],
        datasets: [
          {
            label: 'C',
            data: parseProblemsForLanguage((number) => new RegExp(`${number}/main\\.exe`), 1, 10),
            borderColor: "rgb(205,133,63)",
          },
          {
            label: 'Java',
            data: parseProblemsForLanguage((number) => new RegExp(`${number}/Main\\.java`), 1, 10),
            borderColor: "rgb(255,0,0)",
          },
          {
            label: 'JavaScript',
            data: parseProblemsForLanguage((number) => new RegExp(`${number}/main\\.js`), 1, 10),
            borderColor: "rgb(255,215,0)",
          },
          {
            label: 'Python',
            data: parseProblemsForLanguage((number) => new RegExp(`python.*${number}\\.main`), 1, 10),
            borderColor: "rgb(75, 75, 192)",
          },
        ]
      },
      options: {
        title: { display: true, text: "1. All" },
        responsive: false,
        animation: false,
        scales: {
            xAxes: [{
              scaleLabel: {
                display: true,
                labelString: "problem number"
              },
            }],
            yAxes: [{
              scaleLabel: {
                display: true,
                labelString: "t/s in average with 100 runs"
              }
            }],
        },
        elements: {
          line: { fill: false }
        }
      }
    });
  </script>
</body>

</html>